using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.EventSystems;

public class Stage02 : MonoBehaviour
{
    public GameObject Right; //클릭한 동물이 스테이지에 맞는 동물일때 나오는 오브젝트
    public GameObject Wrong; //클릭한 동물이 스테이지에 틀린 동물일때 나오는 오브젝트
    public GameObject Clear; //클리어 했을때 나오는 창
    public bool ClearTrue = false; //클리어 했을때 클리어 창이 계속 뜨지 않게 해주는 것

    float number_of_Correctanimals = 0; // 맞춘 동물의 수

    private void Update()
    {
        if (number_of_Correctanimals == 2 && ClearTrue == false)
        {
            Clear.SetActive(true);
            ClearTrue = true;
        }
    }

    public void AnimalClick()//동물을 클릭했을때
    {
        if (EventSystem.current.currentSelectedGameObject.tag == "MountainAnimals")
        {
            //Right 를 클릭한 버튼 위치에 소환
            Instantiate(Right, EventSystem.current.currentSelectedGameObject.transform.position, EventSystem.current.currentSelectedGameObject.transform.rotation, GameObject.Find("Canvas/ClickObj").transform);
            EventSystem.current.currentSelectedGameObject.tag = "CorrectAnimal";
            number_of_Correctanimals++; //맞춘 동물의 수 1증가
        }

        if (EventSystem.current.currentSelectedGameObject.tag != "CorrectAnimal" && EventSystem.current.currentSelectedGameObject.tag != "ForestAnimals")
        {
            //wrong 을 클릭한 버튼 위치에 소환
            Instantiate(Wrong, EventSystem.current.currentSelectedGameObject.transform.position, EventSystem.current.currentSelectedGameObject.transform.rotation, GameObject.Find("Canvas/ClickObj").transform);

            Debug.Log("d");
        }

    }
    IEnumerator Corutin()
    {
        yield return new WaitForSeconds(3);
    }
}
